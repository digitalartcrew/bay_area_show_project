<%= render 'layouts/navbar' %>


<div id="googleMap" style="width:100%;height:300px;"></div>
<div>

<%= content_tag :div, class: "show_class", data: {show: @show} do %>
<% end %>

<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDtCLjcgQRgYbZTweBbL8Hz3amT8HsbS1Y"></script>

<script>


// function initialize() {
  var myCenter = new google.maps.LatLng(($('.show_class').data('show').longitude),($('.show_class').data('show').latitude));
  function initialize(){
    var mapProp = {
      center:myCenter,
      zoom:13,
      mapTypeId:google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
    var marker = new google.maps.Marker({
      position:myCenter,
    });
    marker.setMap(map);
  }

  // var mapProp = {
  //   center:new google.maps.LatLng(51.508742, -0.120850),
  //   zoom:5,
  //   mapTypeId:google.maps.MapTypeId.ROADMAP
  // };
  // var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
// }
google.maps.event.addDomListener(window, 'load', initialize);
</script>
<!-- var marker=new google.maps.Marker({
  position:myCenter,
  });

marker.setMap(map); â€”>